<header>
    <h1>Register</h1>
    <p>Comment on my blogs, Maybe even get a chance to write your own.</p>
</header>
<main>
    <form [formGroup]="registrationForm" #formDir="ngForm">
      <section [hidden]="formDir.submitted">
        <h2>Enter your details</h2>
        <fieldset>
          <legend>Name</legend>
          <p>
            <label for="firstname">First name:</label>
            <input
              id="firstname"
              placeholder="Jane"
              name="first_name"
              type="text"
              formControlName="firstName"
            />
            
          </p>
          <p>
            <label for="lastname">Last name:</label>
            <input
              id="lastname"
              formControlName="lastName"
              name="last_name"
              placeholder="Doe"
              type="text"
            />
          </p>
          <p>
            <label for="username">
              <span>User Name:</span>
              <strong>
                <span class="required" aria-label="required"> * </span>
              </strong>
            </label>
            <input
              id="username"
              name="username"
              minlength=3
              formControlName="username"
              placeholder="jane_doe"
              type="text"
              required
            />
            @if(username?.invalid && (username?.dirty || username?.touched)) {
              @if(username?.hasError("required")) {
                <span class="form-error">
                  A Username is required
                </span> 
              }
              @if(username?.hasError("minlength")) {
                  <span class="form-error">
                      A username should be atleast 4 characters long
                  </span>
              }
            }
            
          </p>
        </fieldset>
        <fieldset>
          <legend>Login Details</legend>
          <p>
            <label for="email">
              <span>Email:</span>
              <strong
                ><span class="required" aria-label="required">*</span></strong
              >
            </label>
            <input
              id="email"
              formControlName="email"
              placeholder="jahnxdoe@emailprovider.in"
              name="email"
              type="email"
            />
            @if(email?.invalid && (email?.dirty || email?.touched)) {
              @if(email?.hasError("required")) {
              <span class="form-error">An email address is required</span>
              }
  
              @if(email?.hasError("email")) {
                <span class="form-error">Email is invalid</span>
              }
            }
          </p>
          <p>
            <label for="password">
              <span>Password:</span>
              <strong
                ><span class="required" aria-label="required">*</span></strong
              >
            </label>
            <input
              placeholder="********"
              minlength=8
              id="password"
              name="password"
              formControlName="password"
              type="password"
            />
            @if(password?.invalid && (password?.dirty || password?.touched)) {
              @if(password?.hasError("required")) {
                <span class="form-error">
                  A password is required
                </span> 
              }
              @if(password?.hasError("minlength")) {
                  <span class="form-error">
                      A password should be atleast 8 characters long
                  </span>
              }
              @if(password?.hasError("pattern")) {
                <span class="form-error">
                     Password should contain atleast a lower case character, upper case character,
                     numbers and a special character
                </span>
              }
            }
          </p>
          
        </fieldset>
  
        <section class="form-controls">
          <button [disabled]="formDir.invalid" type="submit">Submit</button>
          <button type="reset" class="secondary">Clear</button>
        </section>

        <section class="form-footer">
          <a [routerLink]="'/login'"><small>Have an account? login</small></a>
        </section>
      </section>
    </form>
</main>